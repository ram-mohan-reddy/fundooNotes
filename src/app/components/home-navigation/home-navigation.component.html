<mat-toolbar class="tool-bar" fxLayout='row' fxLayout.xs="row" fxLayoutGap='20' fxLayoutGap.xs="20" fxLayout.sm="row"
fxLayout.md="row" fxLayoutGap.md='10' fxLayout.lg="row">
  <div fxFlex=5>
      <button matTooltip="Main menu" type="button" aria-label="Toggle sidenav" 
      mat-icon-button (click)="drawer.toggle()">
      <mat-icon class="icons" aria-label="Side nav toggle icon">menu</mat-icon>
    </button>
  </div> 
  <div fxFlex fxLayout='row' fxHide.xs = "true" fxLayoutGap='10px'>
      <span class='identity' fxShow fxHide.xs = "true"  >{{identify}}</span>
      <mat-card fxShow fxHide.xs = "true" fxFlex fxLayout='row' fxLayoutGap='10px' fxLayout.xs='row' class="search-box">
        <div  fxFlex=7>
            <button  mat-icon-button type="submit"><mat-icon>search</mat-icon></button>
        </div>
        <input placeholder="Search" style="min-width:auto" fxFlex [(ngModel)]="searchText" 
            name="search" (click)='naviagteSearch()' (keydown)="dataTransfer()" 
              class="search-text" type='text'>
        <button fxFlex=10 mat-icon-button type="submit"><mat-icon>clear</mat-icon></button> 
      </mat-card>
  </div>
  <div fxFlex.xs fxFlex=20>
    <div  fxFlex>
    </div> 
    <div fxFlex fxLayoutAlign='end'>
        <div fxHide fxShow.xs = "true">
            <button  mat-icon-button type="submit"><mat-icon>search</mat-icon></button>
        </div>
        <button class="icons" matTooltip="Refresh" fxFlex mat-icon-button 
          routerLink="/home"><mat-icon>refresh</mat-icon></button>
        <button class="icons" fxHide.xs = "true" *ngIf='notesView' (click)='changeView()' matTooltip="List view" 
          fxFlex mat-icon-button><mat-icon>view_stream</mat-icon></button>
        <button class="icons" fxHide.xs = "true" *ngIf='!notesView' (click)='changeView()' matTooltip="Grid view" 
          fxFlex mat-icon-button><mat-icon>grid_on</mat-icon></button>
        <button class="icons" matTooltip="Notification" fxFlex mat-icon-button>
          <mat-icon>notifications_none</mat-icon></button>
        <button *ngIf='savedUrl == ""' matTooltip="Fundoo account : {{userName}}" fxFlex 
          mat-mini-fab class='drop-down' [matMenuTriggerFor]="appMenu">{{userName | titlecase | slice:0:1}}</button>
        <button mat-card-avatar *ngIf='savedUrl != ""' [ngStyle]="{'background-image': 'url(' + url + ')','background-size': 'cover'}"
          matTooltip="Fundoo account : {{userName}}" fxFlex mat-mini-fab class='drop-down' [matMenuTriggerFor]="appMenu"></button>
        <mat-menu #appMenu="matMenu" [overlapTrigger]="false">
          <ng-template matMenuContent>
            <div style='padding: 10px;' fxLayoutGap=10px fxLayout='row'>
              <div fxFlex=40>
                <button (click)="$event.stopPropagation();" class="display-image" *ngIf='savedUrl == ""'  mat-mini-fab>
                <div style="margin-top:20px">
                    {{userName | titlecase | slice:0:1}}
                </div> 
                <div class="change-button" (click)="selectImage.click()">
                  Change
                </div>
              </button>
                 
                <div fxFlex (click)="$event.stopPropagation();" class="display-image" (click)="imageUpload()" mat-card-avatar 
                *ngIf='savedUrl != ""' [ngStyle]="{'background-image': 'url(' + url + ')','background-size': 'cover'}"><button style="font-size:12px;top:30px;color: white" mat-button>Change</button></div>
                <input (click)="$event.stopPropagation();" style="display:none" type="file" (change)="onImageUpload($event)" #selectImage>
              
              </div>
              <div fxFlex> 
                <div style="font-size:12px">{{userName}}</div>
                <div style="font-size:12px">{{email}}</div>
              </div>
            </div>
            <hr> 
            <div fxLayout='row' fxLayoutGap="30px" style="padding:10px">
              <button fxFlex class="drop-down-button" mat-raised-button (click)=logout()>Signout </button>
            </div>
          </ng-template>
        </mat-menu>
    </div>
  </div>
</mat-toolbar>
<mat-sidenav-container class="sidenav-container">
    <mat-sidenav #drawer class="sidenav" fixedInViewport="true" [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
    [mode]="(isHandset$ | async) ? 'over' : 'side'" [opened]="!(isHandset$ | async)">
     <mat-nav-list>
      <a mat-list-item (click)='changeIdentity("fundooNotes")' class="links" routerLink="/home/notes">
        <img src="../../../assets/images/notes.svg"><span class="child-links">Notes</span></a>
      <a mat-list-item (click)='changeIdentity("Reminders")' routerLink="/home/reminders">
        <img src="../../../assets/images/reminders.svg"><span class="child-links">Reminders</span></a>
      <hr>
      <p class="label">LABELS</p>
      <div *ngFor = 'let labels of labelList'>
        <a mat-list-item (click)='changeIdentity(labels.label)' routerLink="/home/labels/{{labels.label}}">
          <mat-icon>label_outline</mat-icon><span class="child-links">{{labels.label}}</span></a>
      </div>
      <a mat-list-item (click)='createLabel()'><mat-icon>edit</mat-icon><span class="child-links">Edit labels</span></a>
      <hr> 
      <a (click)='changeIdentity("Archive")' mat-list-item routerLink="/home/archive"><img src="../../../assets/images/archives.svg">
        <span class="child-links">Archive</span></a>
      <a (click)='changeIdentity("Trash")' mat-list-item routerLink="/home/trash">
        <mat-icon>delete</mat-icon><span class="child-links">Trash</span></a>
   </mat-nav-list> 
  </mat-sidenav>
  <mat-sidenav-content>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>